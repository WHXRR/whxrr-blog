---
title: "瀑布流 + 不定高虚拟列表的实现"
outline: deep
desc: "如何优雅地把一堆高度不一的卡片摆得整整齐齐，还不让浏览器累瘫？试试瀑布流 + 虚拟滚动！"
tags: "vscode"
updateTime: "2025-06-10 11:27"
pic: https://public.ysjf.com/mediastorm/material/material/%E8%A5%BF%E6%B2%83%E5%BE%B7-%E5%93%88%E8%8B%8F%E7%85%A7%E7%89%87-02-%E5%85%A8%E6%99%AF-20250107.JPG
picSize: 689x919
---

## 创建项目

我们这里基于 Vue3 + `<script setup>` 编写一个 **不定高瀑布流 + 虚拟滚动列表**。目标是：成千上万个卡片，像艺术家一样布局，像魔术师一样加载。

## 项目结构亮相

组件由三大核心组成：

- **瀑布流计算布局**
- **虚拟滚动列表**
- **卡片图片高度预占位 + 文本高度动态计算**

## Props 接口定义

```ts
const props = defineProps<{
  list: IItem[];           // 原始数据列表
  gap: number;             // 卡片间隔
  columns: number;         // 默认列数
  breakPoint?: IBreakpoint // 响应式断点配置
}>();
